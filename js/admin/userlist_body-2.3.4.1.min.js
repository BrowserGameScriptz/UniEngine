function ShowMassActions(){if(MassActionsEl.data("visible")!==true){MassActionsEl.animate({bottom:"+=40"},500);MassActionsEl.data("visible",true)}}function HideMassActions(){if(MassActionsEl.data("visible")!==false){MassActionsEl.animate({bottom:"-=40"},500);MassActionsEl.data("visible",false)}}var MassActionsEl=false;$(document).ready(function(){var a=false;var b=false;var c=$("#toggleFilterOptImg");var d=$(".usrBox");var e=$("#usrBoxSelect_AllVisible");var f=$("#usrBoxSelect_AllFiltered");var g={maxWidth:"auto",defaultPosition:"top"};MassActionsEl=$("#viewOn");$("input[name]:not(.dontSaveOld)",$(".negmarg")).each(function(){$(this).data("oldVar",$(this).val())});if(document.cookie.indexOf("ACP_UserList_FilterOpt_Visible")===-1||document.cookie.indexOf("ACP_UserList_FilterOpt_Visible=false")!==-1){$("#FiltersOpt").hide(0)}else{$("#FiltersOpt").show(0);c.attr("src",c.attr("src").replace("expand","collapse"))}$("[id^='usrMore']").hide();$("[id^='usrActions']").hide();$("[id^='usrNo']").click(function(){$("#usrMore"+$(this).attr("id").substr(5)).toggle();$("#usrActions"+$(this).attr("id").substr(5)).toggle()});$("tr.usr").children(":not(.cBox)").addClass("pad");$("tr.usr:even th").addClass("even");$("tr.usr").hover(function(){$(this).children().addClass("hover")},function(){$(this).children().removeClass("hover")});$(".usrReg").tipTip({delay:0,maxWidth:"auto",attribute:"title"});$(".usrOL").tipTip({delay:0,maxWidth:"auto",attribute:"title",minWidth:"200px"});$("#SSInfo").tipTip({delay:0,maxWidth:"200px",attribute:"title",minWidth:"200px"});$("#anyip_span").tipTip({delay:0,maxWidth:"200px",attribute:"title",minWidth:"200px"});$("[name='search_user']").tipTip({delay:0,maxWidth:"200px",minWidth:"200px",content:JSLang["SearchUserTip"]});$(".mEmail").tipTip($.extend(g,{content:JSLang["mEmail"]}));$(".xEmail").tipTip($.extend(g,{content:JSLang["xEmail"]}));$(".lastIP").tipTip($.extend(g,{content:JSLang["lastIP"]}));$(".regIP").tipTip($.extend(g,{content:JSLang["regIP"]}));$(".lkupinfo").tipTip($.extend(g,{content:JSLang["LoopupInfo"]}));$(".allyOwn").tipTip($.extend(g,{content:JSLang["ItsAllyOwner"]}));$(".allyReq").tipTip($.extend(g,{content:JSLang["AllyRequested"]}));$(".banned").tipTip($.extend(g,{content:JSLang["PlayerIsBanned"]}));$(".vacations").tipTip($.extend(g,{content:JSLang["PlayerIsOnVacations"]}));$(".button").tipTip({maxWidth:"auto",content:JSLang["ToggleFilters"],defaultPosition:"bottom"});e.tipTip({edgeOffset:8,delay:200,maxWidth:400,content:JSLang["SelectAllVisible"],defaultPosition:"top"});f.tipTip({edgeOffset:8,delay:200,maxWidth:400,content:JSLang["SelectAllFiltered"],defaultPosition:"top"});$(".usrName").click(function(){$("#tiptip_holder").fadeOut(500);return false});$("#SBy").change(function(){$("#anyip_span, .allysearch").hide();var a=$("#SBy").val();if(a=="ip"){$("#anyip_span").show()}else if(a=="ally"){$(".allysearch").show()}else if(a=="aid"){$(".allyOnRequest").show()}}).keyup(function(){$(this).change()});$("#PPList").change(function(){var a=$("#PPList option:selected")[0].value;if(a!="-"){$("#pp").val(a);$("form")[0].submit()}});$("#reset").click(function(){window.location="userlist.php"});$("#searchForm").submit(function(){if(b||a){$("input[name]:not(.dontSaveOld)",$(".negmarg")).each(function(){$(this).val($(this).data("oldVar"))})}else{if($("#pp").val()==DefaultPerPage){$("#pp").remove()}else if($("#pp").val()==""){var c=$("#PPList option:selected")[0].value;if(c!="-"&&c!=DefaultPerPage){$("#pp").val(c)}else{$("#pp").remove()}}$('input[name="preserve"]').val("")}});$(".checkBox").click(function(){if($(this).is(":checked")){$('[class="'+$(this).attr("class")+'"]').attr("checked",false);$(this).attr("checked",true)}});$(".checkBoxOne").click(function(){if(!$(this).is(":checked")){var a=$(this);$('[class="'+$(this).attr("class")+'"]').each(function(){if($(this)[0]===a[0]){return}else{$(this).attr("checked",true);return}})}});$(".pagin").click(function(){a=true;$('input[name="page"]').val($(this).attr("id").replace("page_",""));$("#searchForm").submit()});$(".aDel").click(function(){var a=confirm(JSLang["Userlist_ConfirmDelete"]);if(a===true){$('input[name="deleteID"]').val($(this).attr("id").replace("delID_",""));$("#searchForm").submit()}});$(".sortLink").click(function(a){a.preventDefault();var b=/^\?cmd\=sort\&type\=(.*?)\&mode\=(.*?)$/gi;var c=b.exec($(this).attr("href"));$('input[name="type"]').val(c[1]);$('input[name="mode"]').val(c[2]);$("#searchForm").submit()});$("#toggleFilterOpt").click(function(){$("#FiltersOpt").toggle(0);if($("#FiltersOpt").is(":visible")){document.cookie="ACP_UserList_FilterOpt_Visible=true";c.attr("src",c.attr("src").replace("expand","collapse"))}else{document.cookie="ACP_UserList_FilterOpt_Visible=false";c.attr("src",c.attr("src").replace("collapse","expand"))}});e.click(function(){if(!$(this).is(":checked")){f.prop("checked",false);HideMassActions()}else{ShowMassActions()}d.prop("checked",$(this).is(":checked"))});f.click(function(){if($(this).is(":checked")){d.prop("checked",true);e.prop("checked",true);$('[name="useAllFiltered"]').val("1");ShowMassActions()}else{$('[name="useAllFiltered"]').val("")}});d.click(function(){if($(this).is(":checked")){var a=true;d.each(function(){if(!$(this).is(":checked")){a=false;return}});if(a===true){e.prop("checked",true)}else{e.prop("checked",false)}ShowMassActions()}else{e.prop("checked",false);f.prop("checked",false);var b=false;d.each(function(){if($(this).is(":checked")){b=true;return}});if(b===true){ShowMassActions()}else{HideMassActions()}}});$(".massAction").click(function(){$(this).children()[0].click()});$("#massBan, #massUnban").click(function(){if($(this).attr("id")=="massBan"){$('[name="massAction"]').val("ban")}else if($(this).attr("id")=="massUnban"){$('[name="massAction"]').val("unban")}if($('[name="useAllFiltered"]').val()!="1"){var a=[];d.each(function(){if($(this).is(":checked")){a.push($(this).attr("id").replace("usrID_",""))}});if(a.length>0){$('[name="massActionIDs"]').val(a.join(","))}else{return}}b=true;$("#searchForm").submit()});$(".insertSearch").click(function(){var a=$(this).attr("class").split(" ");var b={string:"",type:""};for(var c in a){if(a[c].indexOf("string_")===0){b.string=a[c].replace("string_","")}else if(a[c].indexOf("type_")===0){b.type=a[c].replace("type_","")}}$('[name="search_user"]').val(b.string);$("#SBy").val(b.type);$("#searchForm").submit();return false})})