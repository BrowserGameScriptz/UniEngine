$(document).ready(function(){function a(a){a+="";var b=/(\d+)(\d\d\d)/;while(b.test(a)){a=a.replace(b,"$1"+"."+"$2")}return a}function b(a){a+="";a=a.replace(/[^0-9]/g,"");return a}function c(a){$Seconds=parseFloat(a);$Days=Math.floor($Seconds/86400);$Seconds-=$Days*86400;$Hours=Math.floor($Seconds/3600);$Seconds-=$Hours*3600;$Minutes=Math.floor($Seconds/60);$Seconds-=$Minutes*60;if($Hours<10){$Hours="0"+$Hours+""}if($Minutes<10){$Minutes="0"+$Minutes+""}if($Seconds<10){$Seconds="0"+$Seconds+""}$Time="";if($Days>0){$Time=$Days+"d "}$Time+=$Hours+"g "+$Minutes+"m "+$Seconds+"s";return $Time}$.fn.prettyInputBox=function(){return this.each(function(){if(AllowPrettyInputBox!==undefined&&AllowPrettyInputBox===true){Value=b($(this).val());Value=a(Value);$(this).val(Value)}})};var d=new Object;d["metal"]=0;d["crystal"]=0;d["deuterium"]=0;var e=false;var f=false;var g=0;$(".ssDiv").tipTip({delay:100});$(".infoRes_metal").tipTip({content:JSLang["Metal"],defaultPosition:"top",delay:50});$(".infoRes_crystal").tipTip({content:JSLang["Crystal"],defaultPosition:"top",delay:50});$(".infoRes_deuterium").tipTip({content:JSLang["Deuterium"],defaultPosition:"top",delay:50});$(".ssDiv").hover(function(){$(this).find(".ssImg, .ssBg, .ssLvl").addClass("ssHover")},function(){$(this).find(".ssImg, .ssBg, .ssLvl").removeClass("ssHover")});$('[id^="ssEl_"]').click(function(){$(this).children("input").focus()});$("a.buildDo_Gray, a.destroyDo_Gray").click(function(){return false});$("#buttonC").click(function(){if(!$(this).hasClass("construct_Gray")){$("#disassemblerForm").submit()}return false});$(".maxDo").click(function(){var a=$(this).parent();if(a.children(".ssDis").length>0){return false}e=true;a.children(".ssInput").val($(".count",a).html()).keyup()});var h=$("#buttonC");$(".ssInput").click(function(){if($(this).is(":focus")){return false}}).keypress(function(a){var b=a.keyCode?a.keyCode:a.which;if(b==13){h.click()}}).keyup(function(){ThisCount=parseFloat(b($(this).val()));if(f===false){ThisMax=parseFloat(b($(".count",$(this).parent()).html()));if(ThisCount>ThisMax){ThisCount=ThisMax;$(this).val(ThisMax);$(this).prettyInputBox()}}OldCount=$(this).data("oldCount");if(OldCount===undefined||isNaN(OldCount)){OldCount=0}if(isNaN(ThisCount)){ThisCount=0}Difference=ThisCount-OldCount;if(Difference!=0){$(this).data("oldCount",ThisCount);ThisElementID=$(this).attr("name").replace("elem[","").replace("]","");for(var c in ShipPrices[ThisElementID]){d[c]+=ShipPrices[ThisElementID][c]*Difference}g+=Difference;if(f===false){for(var c in d){ThisSelector=$("#resC_"+c);ThisSelector.html(a(d[c]))}if(g>0){if(h.hasClass("construct_Gray")){h.removeClass("construct_Gray").addClass("construct_Green")}}else{if(h.hasClass("construct_Green")){h.removeClass("construct_Green").addClass("construct_Gray")}}}$(this).prettyInputBox()}}).change(function(){$(this).keyup()}).focus(function(a){if(e===false&&$(this).val()!=""){$(this).val("").keyup()}e=false}).keydown(function(a){if(a.which==38){var c=parseFloat(b($(this).val()));if(isNaN(c)){c=0}$(this).val(c+1).change()}else if(a.which==40){var c=parseFloat(b($(this).val()));if(isNaN(c)||c<=0){return false}$(this).val(c-1).change()}});$("#cancelReq").click(function(){$(".ssInput").each(function(){$(this).val("").keyup()})});$("#selAll").click(function(){f=true;$(".maxDo:not(.inv)").each(function(){$(this).click()});for(var b in d){ThisSelector=$("#resC_"+b);ThisSelector.html(a(d[b]))}if(g>0){if(h.hasClass("construct_Gray")){h.removeClass("construct_Gray").addClass("construct_Green")}}else{if(h.hasClass("construct_Green")){h.removeClass("construct_Green").addClass("construct_Gray")}}f=false});$(".tabSwitch").hover(function(){$(this).addClass("tabHover")},function(){$(this).removeClass("tabHover")}).click(function(){if(!$(this).hasClass("tabSelect")){$(".tabSwitch").removeClass("tabSelect");$(this).addClass("tabSelect");$(".cx").hide();$("#cx_"+$(this).attr("id").replace("tab_","")).show()}});$("#tab_ships").click()})